# 股票分析系统生产环境-日常运维说明文档

## 1. nginx 502 Bad Gateway

    - windows 命令行 查看端口对应进程
        netstat -ano | findstr :443 | findstr LISTENING
    
    - 根据 PID 查找进程名称
        tasklist | findstr 1828

    - 查找特定端口（例如 443）并显示进程名
        Get-NetTCPConnection -LocalPort 443 -State Listen | Select-Object LocalAddress, LocalPort, State, @{Name="Process"; Expression={(Get-Process -Id $_.OwningProcess).ProcessName}}, OwningProcess

    - windows 命令行 kill端口对应进程
        Stop-Process -Name "nginx" -Force

    - windows 命令行 如何优雅启动nginx进程
        start nginx

    - 总结
        1) 强制结束	taskkill /im nginx.exe /f	清除所有旧的、来源不明的 Nginx 进程
        2) 验证	tasklist /fi "imagename eq nginx.exe"	确认进程已全部结束
        3) 重新启动	.\nginx.exe	从你想要的目录启动新的 Nginx 实例
        4) 未来停止	.\nginx.exe -s stop	使用同一路径下的命令来优雅停止
        对于你现在的情况，直接执行 taskkill /im nginx.exe /f 是最快最有效的解决方法。

## 2. admin管理端打包注意事项
    - 生产环境打包执行步骤
        1) .\admin\deploy-env.bat production
        2) npm run build
        3) 上传dist目录到远程主机
        4） python -m http.server 8001


# powershell 重启机器

    - 延迟重启（30秒后）
    shutdown /r /t 30