<div id="main-header" class="main-header">
    <div class="logo-area">
        <img src="img/logo.svg" alt="logo" class="logo-img">
        <span class="logo-title">è‚¡ç¥¨åˆ†æ</span>
    </div>
    <nav class="nav-bar">
        <a href="index.html" class="nav-link" id="nav-home">é¦–é¡µ</a>
        <a href="watchlist.html" class="nav-link" id="nav-watchlist">è‡ªé€‰è‚¡</a>
        <a href="markets.html" class="nav-link" id="nav-quotes">è¡Œæƒ…</a>
        <a href="analysis.html" class="nav-link" id="nav-analyze">åˆ†æ</a>
        <a href="news.html" class="nav-link" id="nav-news">èµ„è®¯</a>
        <a href="profile.html" class="nav-link" id="nav-profile">æˆ‘çš„</a>
    </nav>
    <div class="header-actions">
        <button class="search-btn">ğŸ”</button>
        <div class="user-menu" id="userMenu">
            <span id="userStatus" class="user-status">æœªç™»å½•</span>
            <div class="user-dropdown" id="userDropdown" style="display:none;">
                <a href="profile.html" id="menuProfile">ä¸ªäººä¸­å¿ƒ</a>
                <a href="#" id="menuChangePassword">ä¿®æ”¹å¯†ç </a>
                <a href="#" id="menuLogout">é€€å‡ºç™»å½•</a>
            </div>
        </div>
    </div>
</div>

<!-- è‚¡ç¥¨æœç´¢æ¨¡æ€æ¡†ï¼ˆéšè—ï¼‰ -->
<div id="stockSearchModal" class="stock-search-modal" style="display:none !important; visibility:hidden !important;">
    <div class="stock-search-modal-content">
        <div class="stock-search-header">
            <span class="stock-search-title">è¾“å…¥è‚¡ç¥¨ä»£ç æˆ–åç§°</span>
            <button id="stockSearchCloseBtn" class="stock-search-close-btn" type="button">Ã—</button>
        </div>
        <div class="stock-search-input-wrapper">
            <input type="text" id="stockSearchInput" class="stock-search-input" placeholder="è¾“å…¥è‚¡ç¥¨ä»£ç æˆ–åç§°" autocomplete="off" />
            <button id="stockSearchClearBtn" class="stock-search-clear-btn" type="button" style="display:none;">Ã—</button>
        </div>
        <div id="stockSearchResults" class="stock-search-results">
            <div class="stock-search-empty">è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢</div>
        </div>
    </div>
</div>

<!-- ä¿®æ”¹å¯†ç å¼¹çª—ï¼ˆéšè—ï¼‰ -->
<div id="changePasswordModal" style="display:none; position: fixed; inset: 0; background: rgba(0,0,0,0.45); z-index: 10000; align-items: center; justify-content: center;">
    <div style="width: 360px; background: #fff; border-radius: 8px; box-shadow: 0 12px 28px rgba(0,0,0,0.18); overflow: hidden;">
        <div style="padding: 14px 16px; font-weight: 600; border-bottom: 1px solid #f0f0f0;">ä¿®æ”¹å¯†ç </div>
        <form id="changePasswordForm" style="padding: 16px;">
            <div style="margin-bottom: 12px;">
                <label for="oldPassword" style="display:block; color:#374151; font-size:14px; margin-bottom:6px;">æ—§å¯†ç </label>
                <input id="oldPassword" type="password" placeholder="è¯·è¾“å…¥æ—§å¯†ç " style="width:100%; box-sizing:border-box; padding:10px 12px; border:1px solid #e5e7eb; border-radius:6px; outline:none;" />
            </div>
            <div style="margin-bottom: 12px;">
                <label for="newPassword" style="display:block; color:#374151; font-size:14px; margin-bottom:6px;">æ–°å¯†ç </label>
                <input id="newPassword" type="password" placeholder="è‡³å°‘6ä½" style="width:100%; box-sizing:border-box; padding:10px 12px; border:1px solid #e5e7eb; border-radius:6px; outline:none;" />
            </div>
            <div style="margin-bottom: 4px;">
                <label for="confirmPassword" style="display:block; color:#374151; font-size:14px; margin-bottom:6px;">ç¡®è®¤æ–°å¯†ç </label>
                <input id="confirmPassword" type="password" placeholder="å†æ¬¡è¾“å…¥æ–°å¯†ç " style="width:100%; box-sizing:border-box; padding:10px 12px; border:1px solid #e5e7eb; border-radius:6px; outline:none;" />
            </div>
        </form>
        <div style="display:flex; gap:8px; justify-content:flex-end; padding: 12px 16px; border-top:1px solid #f0f0f0;">
            <button id="cpCancelBtn" type="button" style="padding:8px 14px; border:1px solid #e5e7eb; background:#fff; border-radius:6px; cursor:pointer;">å–æ¶ˆ</button>
            <button id="cpSubmitBtn" type="button" style="padding:8px 14px; border:0; background:#2563eb; color:#fff; border-radius:6px; cursor:pointer;">ç¡®å®š</button>
        </div>
    </div>
    
</div>

<style>
/* å†…è”æ ·å¼ç¡®ä¿ç”¨æˆ·èœå•æ­£å¸¸å·¥ä½œ */
.main-header {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    background: #03213a !important;
    color: #fff !important;
    padding: 0 32px !important;
    height: 56px !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04) !important;
}

.logo-area {
    display: flex !important;
    align-items: center !important;
}

.logo-img {
    width: 32px !important;
    height: 32px !important;
    margin-right: 8px !important;
    vertical-align: middle !important;
}

.logo-title {
    font-size: 20px !important;
    font-weight: bold !important;
    letter-spacing: 2px !important;
}

.nav-bar {
    display: flex !important;
    align-items: center !important;
    gap: 24px !important;
}

.nav-link {
    color: #fff !important;
    text-decoration: none !important;
    font-size: 16px !important;
    padding: 8px 12px !important;
    border-radius: 4px !important;
    transition: background 0.2s !important;
}

.nav-link.active, .nav-link:hover {
    background: #174b7a !important;
}

.header-actions {
    display: flex !important;
    align-items: center !important;
    gap: 16px !important;
}

.search-btn {
    background: none !important;
    border: 1px solid #174b7a !important;
    color: #fff !important;
    border-radius: 4px !important;
    padding: 4px 8px !important;
    cursor: pointer !important;
    font-size: 16px !important;
    transition: background 0.2s, border 0.2s !important;
}

.search-btn:hover {
    background: #174b7a !important;
}

.user-menu {
    display: flex !important;
    align-items: center !important;
    position: relative !important;
    background: #22384a !important;
    border-radius: 20px !important;
    padding: 2px 14px 2px 6px !important;
    margin-left: 16px !important;
    cursor: pointer !important;
    min-width: 80px !important;
    transition: background 0.2s !important;
}

.user-menu:hover {
    background: #2a4258 !important;
}

.user-menu::before {
    content: "" !important;
    display: inline-block !important;
    width: 28px !important;
    height: 28px !important;
    background: #4a5a6a !important;
    border-radius: 50% !important;
    margin-right: 6px !important;
    background-image: url('data:image/svg+xml;utf8,<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="7" r="4" fill="%23fff"/><ellipse cx="10" cy="15" rx="6" ry="3" fill="%23fff"/></svg>') !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
}

.user-status {
    font-size: 15px !important;
    color: #fff !important;
    margin-left: 0 !important;
    margin-right: 2px !important;
    z-index: 1 !important;
    user-select: none !important;
}

.user-dropdown {
    display: none !important;
    position: absolute !important;
    right: 0 !important;
    top: 120% !important;
    background: #fff !important;
    color: #222 !important;
    min-width: 120px !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
    border-radius: 6px !important;
    z-index: 9999 !important;
    flex-direction: column !important;
    padding: 6px 0 !important;
    border: 1px solid #e0e0e0 !important;
    visibility: visible !important;
    opacity: 1 !important;
    height: auto !important;
    width: auto !important;
    overflow: visible !important;
}

.user-dropdown a {
    display: block !important;
    padding: 10px 18px !important;
    color: #222 !important;
    text-decoration: none !important;
    font-size: 15px !important;
    transition: background 0.2s !important;
    white-space: nowrap !important;
    background: transparent !important;
}

.user-dropdown a:hover {
    background: #f2f6fa !important;
    color: #1890ff !important;
}

.user-menu.open .user-dropdown {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* è‚¡ç¥¨æœç´¢æ¨¡æ€æ¡†æ ·å¼ */
.stock-search-modal {
    position: fixed !important;
    inset: 0 !important;
    background: rgba(0, 0, 0, 0.45) !important;
    z-index: 10001 !important;
    display: none !important; /* é»˜è®¤éšè— */
    visibility: hidden !important; /* é»˜è®¤éšè— */
    align-items: center !important;
    justify-content: center !important;
}

.stock-search-modal[style*="flex"],
.stock-search-modal[style*="display: flex"] {
    display: flex !important;
    visibility: visible !important;
}

.stock-search-modal-content {
    width: 500px !important;
    max-width: 90vw !important;
    background: #fff !important;
    border-radius: 8px !important;
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.18) !important;
    overflow: hidden !important;
    display: flex !important;
    flex-direction: column !important;
    max-height: 80vh !important;
}

.stock-search-header {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 16px 20px !important;
    border-bottom: 1px solid #f0f0f0 !important;
}

.stock-search-title {
    font-size: 16px !important;
    font-weight: 600 !important;
    color: #222 !important;
}

.stock-search-close-btn {
    background: none !important;
    border: none !important;
    font-size: 24px !important;
    color: #666 !important;
    cursor: pointer !important;
    padding: 0 !important;
    width: 32px !important;
    height: 32px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 4px !important;
    transition: background 0.2s !important;
}

.stock-search-close-btn:hover {
    background: #f5f5f5 !important;
}

.stock-search-input-wrapper {
    position: relative !important;
    padding: 16px 20px !important;
    border-bottom: 1px solid #f0f0f0 !important;
}

.stock-search-input {
    width: 100% !important;
    box-sizing: border-box !important;
    padding: 12px 40px 12px 16px !important;
    border: 2px solid #2563eb !important;
    border-radius: 6px !important;
    outline: none !important;
    font-size: 15px !important;
    transition: border-color 0.2s !important;
}

.stock-search-input:focus {
    border-color: #1d4ed8 !important;
}

.stock-search-clear-btn {
    position: absolute !important;
    right: 28px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    background: none !important;
    border: none !important;
    font-size: 20px !important;
    color: #999 !important;
    cursor: pointer !important;
    padding: 4px !important;
    width: 24px !important;
    height: 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important;
    transition: background 0.2s !important;
}

.stock-search-clear-btn:hover {
    background: #f5f5f5 !important;
}

.stock-search-results {
    max-height: 400px !important;
    overflow-y: auto !important;
    padding: 8px 0 !important;
}

.stock-search-result-item {
    padding: 12px 20px !important;
    cursor: pointer !important;
    display: flex !important;
    align-items: center !important;
    transition: background 0.2s !important;
    border-bottom: 1px solid #f5f5f5 !important;
}

.stock-search-result-item:hover,
.stock-search-result-item.highlight {
    background: #f2f6fa !important;
}

.stock-search-result-item:last-child {
    border-bottom: none !important;
}

.stock-search-result-icon {
    font-size: 18px !important;
    margin-right: 12px !important;
    color: #2563eb !important;
}

.stock-search-result-info {
    flex: 1 !important;
}

.stock-search-result-code {
    font-size: 15px !important;
    font-weight: 600 !important;
    color: #222 !important;
    margin-right: 12px !important;
}

.stock-search-result-name {
    font-size: 14px !important;
    color: #666 !important;
}

.stock-search-empty {
    padding: 40px 20px !important;
    text-align: center !important;
    color: #999 !important;
    font-size: 14px !important;
}

.stock-search-loading {
    padding: 40px 20px !important;
    text-align: center !important;
    color: #666 !important;
    font-size: 14px !important;
}
</style> 