<!-- 公告发布页面 -->
<div id="announcementsPage" class="page-content">
    <div class="page-header">
        <h2>公告发布管理</h2>
        <div class="header-actions">
            <button class="btn btn-primary" onclick="createAnnouncement()">发布公告</button>
            <button class="btn btn-secondary" onclick="scheduleAnnouncement()">定时发布</button>
        </div>
    </div>
    
    <!-- 公告统计 -->
    <div class="announcements-stats">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">📢</div>
                <div class="stat-info">
                    <h3 id="totalAnnouncements">25</h3>
                    <p>总公告数</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">👁️</div>
                <div class="stat-info">
                    <h3 id="totalViews">12,345</h3>
                    <p>总阅读量</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">📅</div>
                <div class="stat-info">
                    <h3 id="scheduledCount">3</h3>
                    <p>待发布</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">⭐</div>
                <div class="stat-info">
                    <h3 id="importantCount">5</h3>
                    <p>重要公告</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 公告列表 -->
    <div class="announcements-list">
        <div class="list-header">
            <h3>公告列表</h3>
            <div class="list-filters">
                <select id="announcementStatus" class="filter-select" onchange="filterAnnouncements()">
                    <option value="">全部状态</option>
                    <option value="published">已发布</option>
                    <option value="draft">草稿</option>
                    <option value="scheduled">定时发布</option>
                    <option value="expired">已过期</option>
                </select>
                <select id="announcementType" class="filter-select" onchange="filterAnnouncements()">
                    <option value="">全部类型</option>
                    <option value="system">系统公告</option>
                    <option value="maintenance">维护公告</option>
                    <option value="update">更新公告</option>
                    <option value="notice">通知公告</option>
                </select>
                <input type="text" id="announcementSearch" class="search-input" placeholder="搜索公告标题..." onkeyup="searchAnnouncements()">
            </div>
        </div>
        
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>标题</th>
                        <th>类型</th>
                        <th>状态</th>
                        <th>发布时间</th>
                        <th>阅读量</th>
                        <th>重要程度</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody id="announcementsTableBody">
                    <tr>
                        <td>1</td>
                        <td>系统维护通知 - 2024年1月20日</td>
                        <td>维护公告</td>
                        <td><span class="status-badge published">已发布</span></td>
                        <td>2024-01-15 10:00:00</td>
                        <td>2,345</td>
                        <td><span class="importance-badge high">重要</span></td>
                        <td>
                            <button class="btn btn-sm btn-primary" onclick="editAnnouncement(1)">编辑</button>
                            <button class="btn btn-sm btn-secondary" onclick="previewAnnouncement(1)">预览</button>
                            <button class="btn btn-sm btn-warning" onclick="unpublishAnnouncement(1)">下架</button>
                            <button class="btn btn-sm btn-danger" onclick="deleteAnnouncement(1)">删除</button>
                        </td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>新功能上线：智能分析模块</td>
                        <td>更新公告</td>
                        <td><span class="status-badge scheduled">定时发布</span></td>
                        <td>2024-01-18 09:00:00</td>
                        <td>0</td>
                        <td><span class="importance-badge medium">一般</span></td>
                        <td>
                            <button class="btn btn-sm btn-primary" onclick="editAnnouncement(2)">编辑</button>
                            <button class="btn btn-sm btn-secondary" onclick="previewAnnouncement(2)">预览</button>
                            <button class="btn btn-sm btn-success" onclick="publishNow(2)">立即发布</button>
                            <button class="btn btn-sm btn-danger" onclick="deleteAnnouncement(2)">删除</button>
                        </td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>用户协议更新通知</td>
                        <td>通知公告</td>
                        <td><span class="status-badge draft">草稿</span></td>
                        <td>--</td>
                        <td>0</td>
                        <td><span class="importance-badge low">普通</span></td>
                        <td>
                            <button class="btn btn-sm btn-primary" onclick="editAnnouncement(3)">编辑</button>
                            <button class="btn btn-sm btn-success" onclick="publishAnnouncement(3)">发布</button>
                            <button class="btn btn-sm btn-danger" onclick="deleteAnnouncement(3)">删除</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- 公告模板 -->
    <div class="announcement-templates">
        <h3>公告模板</h3>
        <div class="templates-grid">
            <div class="template-card" onclick="useTemplate('maintenance')">
                <div class="template-icon">🔧</div>
                <div class="template-info">
                    <h4>系统维护模板</h4>
                    <p>包含维护时间、影响范围、恢复时间等信息</p>
                </div>
            </div>
            
            <div class="template-card" onclick="useTemplate('update')">
                <div class="template-icon">🆕</div>
                <div class="template-info">
                    <h4>功能更新模板</h4>
                    <p>包含新功能介绍、使用方法、注意事项等</p>
                </div>
            </div>
            
            <div class="template-card" onclick="useTemplate('notice')">
                <div class="template-icon">📢</div>
                <div class="template-info">
                    <h4>一般通知模板</h4>
                    <p>适用于一般性通知和公告发布</p>
                </div>
            </div>
            
            <div class="template-card" onclick="useTemplate('emergency')">
                <div class="template-icon">🚨</div>
                <div class="template-info">
                    <h4>紧急通知模板</h4>
                    <p>适用于紧急情况和重要通知</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 发布统计 -->
    <div class="publish-statistics">
        <h3>发布统计</h3>
        <div class="statistics-charts">
            <div class="chart-card">
                <h4>公告发布趋势</h4>
                <div class="chart-container" id="publishTrendChart">
                    <p>图表加载中...</p>
                </div>
            </div>
            <div class="chart-card">
                <h4>阅读量统计</h4>
                <div class="chart-container" id="readCountChart">
                    <p>图表加载中...</p>
                </div>
            </div>
        </div>
    </div>
</div> 